---
title: 'Natural Language Query'
description: 'Query the database using natural language'
---

# Natural Language Query

Execute database queries using natural language. This endpoint translates natural language questions into SQL and executes them against WorqDB.

```endpoint
POST /db/nlquery
```

## Request Body

<ParamField body="question" type="string" required>
  Natural language question to query the database
</ParamField>

<ParamField body="context" type="object">
  Optional context to help improve query accuracy
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the query was executed successfully
</ResponseField>

<ResponseField name="data" type="array">
  The query results as an array of objects
</ResponseField>

<ResponseField name="generatedQuery" type="string">
  The SQL query generated from the natural language question
</ResponseField>

<ResponseField name="executionTime" type="integer">
  Query execution time in milliseconds
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://api.worqhat.com/db/nlquery" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "question": "How many active users registered last month?",
    "context": {
      "tables": ["users"]
    }
  }'
```

```javascript Node.js
import Worqhat from 'worqhat';

const client = new Worqhat({
  apiKey: process.env.WORQHAT_API_KEY,
});

async function naturalLanguageQuery() {
  try {
    const response = await client.db.naturalLanguageQuery({
      question: "How many active users registered last month?",
      context: {
        tables: ["users"]
      }
    });
    console.log(response.data);
    console.log(`Generated SQL: ${response.generatedQuery}`);
    return response;
  } catch (error) {
    console.error('Error executing natural language query:', error);
  }
}

naturalLanguageQuery();
```

```python Python
from worqhat import Worqhat

# Initialize the client
client = Worqhat(
    api_key="YOUR_API_KEY",  # Better to use environment variables
)

# Execute natural language query
response = client.db.natural_language_query(
    question="How many active users registered last month?",
    context={
        "tables": ["users"]
    }
)
print(response.data)
print(f"Generated SQL: {response.generated_query}")
```

```go Go
package main

import (
  "context"
  "fmt"

  "github.com/WorqHat/worqhat-go-sdk"
  "github.com/WorqHat/worqhat-go-sdk/option"
)

func main() {
  client := worqhat.NewClient(
    option.WithAPIKey("YOUR_API_KEY"),  // Better to use environment variables
  )
  
  response, err := client.DB.NaturalLanguageQuery(context.TODO(), worqhat.DBNaturalLanguageQueryParams{
    Question: "How many active users registered last month?",
    Context: map[string]interface{}{
      "tables": []string{"users"},
    },
  })
  if err != nil {
    panic(err.Error())
  }
  
  fmt.Printf("%+v\n", response.Data)
  fmt.Printf("Generated SQL: %s\n", response.GeneratedQuery)
}
```
</RequestExample>

<ResponseExample>
```json
{
  "success": true,
  "data": [
    {
      "count": 157
    }
  ],
  "generatedQuery": "SELECT COUNT(*) as count FROM users WHERE status = 'active' AND created_at >= DATE_SUB(NOW(), INTERVAL 1 MONTH)",
  "executionTime": 38
}
```
</ResponseExample>
