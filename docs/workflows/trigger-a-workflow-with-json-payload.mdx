---
title: 'Triggering Workflows with JSON Data'
description: 'Learn how to trigger WorqHat workflows by sending JSON data'
---

# Triggering Workflows with JSON Data

WorqHat workflows provide a powerful way to automate processes and integrate with your applications. One of the most common ways to trigger a workflow is by sending JSON data to it. This guide explains how to trigger workflows using JSON payloads and how to work with the responses.

## Understanding Workflow Triggers

Each workflow in WorqHat has a unique identifier (UUID) that you use to trigger it. When you send data to a workflow, the workflow processes that data according to the steps you've defined in the WorqHat Workflow Builder.

### When to Use JSON Payload Triggers

JSON payload triggers are ideal for scenarios like:

- Sending structured data from your application to a workflow
- Triggering workflows based on user actions or system events
- Passing configuration parameters to customize workflow behavior
- Integrating with webhooks from third-party services

## Prerequisites

Before triggering a workflow, you'll need:

1. A WorqHat account with workflow creation permissions
2. An API key with appropriate permissions
3. The workflow ID of the workflow you want to trigger

## Sending Data to a Workflow

To trigger a workflow with JSON data, you'll send a POST request to the workflow's trigger endpoint with your data in the request body.

### Example: Customer Onboarding Workflow

Let's say you have a customer onboarding workflow that needs to process new customer information. Here's how you might trigger it:

```javascript
import Worqhat from 'worqhat';

// Initialize the WorqHat client
const client = new Worqhat({
  apiKey: process.env.WORQHAT_API_KEY, // Always use environment variables for API keys
});

// Customer data to be processed by the workflow
const customerData = {
  name: "Jane Smith",
  email: "jane.smith@example.com",
  plan: "premium",
  company: "Acme Inc.",
  preferences: {
    notifications: true,
    newsletter: false,
    productUpdates: true
  }
};

async function onboardNewCustomer() {
  try {
    // Trigger the onboarding workflow with customer data
    const response = await client.flows.triggerWithPayload(
      'workflow-id-for-customer-onboarding',
      { body: customerData }
    );
    
    console.log(`Onboarding workflow started! Tracking ID: ${response.analytics_id}`);
    
    // You can store this analytics_id to check the status later
    return response;
  } catch (error) {
    console.error('Error triggering onboarding workflow:', error);
    // Handle the error appropriately
  }
}

onboardNewCustomer();
```

## Working with Workflow Responses

When you trigger a workflow, you'll receive an immediate response that confirms the workflow has started. This doesn't mean the workflow has completed - just that it has been successfully initiated.

A typical response includes:

```json
{
  "success": true,
  "message": "Workflow triggered successfully",
  "analytics_id": "1f9152dc-dec8-496f-8ba4-ed1c27a72684",
  "timestamp": "2025-07-26T03:28:08.123Z",
  "data": {
    "workflow_status": "started"
  }
}
```

The `analytics_id` is particularly important as it allows you to track the workflow's progress or query its results later.

## Best Practices

### Security Considerations

- Always store your API keys securely and never expose them in client-side code
- Consider what data you're sending to workflows and ensure sensitive information is handled appropriately
- Use HTTPS for all API communications

### Error Handling

Implement robust error handling to manage cases where:

- The workflow trigger request fails
- The workflow ID is invalid
- The API key doesn't have sufficient permissions
- The JSON payload is malformed

```javascript
try {
  const response = await client.flows.triggerWithPayload(workflowId, { body: data });
  // Handle success
} catch (error) {
  if (error.status === 401) {
    console.error('Authentication failed. Check your API key.');
  } else if (error.status === 404) {
    console.error('Workflow not found. Verify the workflow ID.');
  } else if (error.status === 400) {
    console.error('Invalid request format:', error.message);
  } else {
    console.error('Unexpected error:', error);
  }
}
```

### Payload Size Limits

Be mindful of payload size limits when sending data to workflows:

- The maximum payload size is 10MB
- For larger datasets, consider using file uploads or breaking the data into smaller chunks

## Real-World Use Cases

### E-commerce Order Processing

Trigger a workflow when a new order is placed to handle inventory updates, payment processing, and shipping notifications:

```javascript
await client.flows.triggerWithPayload('order-processing-workflow-id', {
  body: {
    orderId: "ORD-12345",
    customer: {
      id: "CUST-789",
      name: "Alex Johnson",
      email: "alex@example.com"
    },
    items: [
      { productId: "PROD-001", quantity: 2, price: 29.99 },
      { productId: "PROD-042", quantity: 1, price: 49.99 }
    ],
    shipping: {
      method: "express",
      address: {
        street: "123 Main St",
        city: "Boston",
        state: "MA",
        zip: "02108"
      }
    },
    payment: {
      method: "credit_card",
      transactionId: "TXN-5678"
    }
  }
});
```

### Data Analysis Pipeline

Trigger a workflow to analyze data and generate reports:

```javascript
await client.flows.triggerWithPayload('data-analysis-workflow-id', {
  body: {
    datasetId: "DS-456",
    analysisParameters: {
      timeRange: { start: "2025-01-01", end: "2025-07-31" },
      metrics: ["revenue", "user_growth", "conversion_rate"],
      segmentation: ["region", "device_type", "user_tier"],
      comparisonPeriod: "previous_quarter"
    },
    outputFormat: "pdf",
    notifyEmail: "reports@yourcompany.com"
  }
});
```

## Conclusion

Triggering workflows with JSON payloads provides a flexible way to integrate WorqHat's automation capabilities into your applications. By following the patterns and practices outlined in this guide, you can create powerful, event-driven systems that respond to your business needs in real-time.

For more advanced use cases, consider exploring workflow chaining (triggering workflows from other workflows) and combining JSON payload triggers with file upload triggers for comprehensive data processing solutions.