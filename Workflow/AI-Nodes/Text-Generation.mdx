**Category:** AI Node
**Type:** Action Node

---

## Overview

The **Text Generation Node** enables users to automatically generate text or structured data using advanced AI models.
This node can be used for a wide range of purposes — such as creating summaries, generating responses, writing articles, or producing structured JSON data — without requiring any coding knowledge.

It forms a key component in workflows where natural language generation or intelligent content creation is required.

---

## Description

This node uses **AI models** (e.g., `aicon-v4-nano-160824`, `aicon-v4-large-160824`, `aicon-v4-search-160824`) to process user instructions and produce text or JSON output.
It is fully compatible with no-code workflows, meaning users can simply configure key parameters through an intuitive interface without writing scripts or API calls.

```
The AI nodes currently use advanced free, in-house AI models for general and creative tasks.
For users requiring more precision, reasoning depth, or specialized capabilities, there is an option to connect premium models from providers like OpenAI, Anthropic, or Google, available through paid integrations.
```

---

## Input Parameters

The node accepts a flat list of key-value inputs.
Each parameter controls specific aspects of how the AI generates content.

- **generationType**
  Defines which AI model to use.
  Choose from:

  - `aicon-v4-nano-160824` – for simple or lightweight tasks.
  - `aicon-v4-large-160824` – for complex text generation or file-based processing.
  - `aicon-v4-search-160824` – for search, analysis, and summarization tasks.

- **prompt / question**
  The main instruction or query you want the AI to respond to.
  Example:
  _Write a 100-word summary about renewable energy._

- **trainingData**
  Helps define the AI’s behavior, tone, and role, ensuring its responses are structured and aligned with the intended purpose.
  Also referred to as the “system prompt.”

- **attachments**
  Comma-separated list of file IDs that the AI can analyze or reference.
  Works only with `aicon-v4-large-160824`.

- **randomness**
  Controls creativity on a scale from 0 to 1.
  Lower values generate predictable, factual responses.
  Higher values produce more creative and diverse outputs.

- **outputType**
  Defines how the output is formatted:

  - `"text"` – for plain written responses.
  - `"json"` – for structured, machine-readable data.

- **thinking**
  When set to `"true"`, the AI performs deeper reasoning before generating results.

- **conversationId**
  Maintains context across multiple runs, allowing the AI to remember previous interactions and produce consistent responses.

- **jsonContent**
  Required only when `outputType` is `"json"`.
  Defines the structure of the expected JSON output.
  Must be **flat**, without nested objects or arrays.
  Example:

  ```json
  {
    "title": "string",
    "summary": "string",
    "point1": "string"
  }
  ```

---

> **Important:**
> When creating JSON schemas, always use _flat structures_. Avoid nested objects and arrays.
> Use numbered keys instead of arrays (e.g., `"item1"`, `"item2"`).

Access values from this node using:

```
{{nodeId.input.<key>}}
```

---

Here’s your **Output Parameters** section rewritten from the table into clear bullet points in Markdown — consistent with your input section style and suitable for documentation:

---

## Output Parameters

After execution, the node returns several outputs that represent both the AI’s result and processing information.

- **processingCount**
  Indicates the total number of tokens or data units processed by the AI model during execution.

- **processingTime**
  Total time taken to generate the response, returned as a number (milliseconds).

- **processingId**
  A unique identifier automatically assigned to each generation request.
  Useful for debugging or tracking specific executions.

- **conversationId**
  Identifier used to maintain continuity between multiple AI generations.
  When reused, it allows the AI to remember previous context and respond consistently.

- **content**
  The main output generated by the AI.

  - If `outputType` is `"text"`, this contains the generated text.
  - If `outputType` is `"json"`, it follows the user-defined schema from the `jsonContent` input.

---

### Output Type

The node’s **outputType** determines what the `content` field contains:

- `"text"` → Regular AI-generated text output.
- `"json"` → Structured data matching the defined `jsonContent` schema.

Downstream nodes can access these values as:

```
{{nodeId.output.content}}
{{nodeId.output.processingId}}
{{nodeId.output.processingTime}}
{{nodeId.output.conversationId}}
```

---

## Example Usage

### 1. Generate Text

**Goal:** Write a paragraph about AI ethics.
**Input Configuration:**

```json
{
  "generationType": "aicon-v4-nano-160824",
  "prompt": "Write a paragraph explaining the importance of AI ethics.",
  "outputType": "text"
}
```

**Output Example:**

```json
{
  "output": {
    "content": "AI ethics are a crucial framework for navigating the complex landscape of artificial intelligence development and deployment. The six key principles outlined in this image – Transparency, Accountability, Mitigating Bias, Fairness, Security, and Privacy – collectively highlight why ethical considerations are paramount. Without transparency, it's difficult to understand how AI systems make decisions, hindering trust and accountability. Unchecked bias can lead to discriminatory and harmful outcomes, emphasizing the need for robust mitigation strategies. Fairness, while challenging to define, is essential to ensure equitable treatment for all. Robust security measures are vital to protect AI systems from malicious attacks and preserve public trust, while privacy safeguards individual autonomy regarding personal data. Adhering to these principles ensures that AI systems are developed responsibly, beneficially, and without causing undue harm, fostering public confidence and promoting a positive societal impact from this transformative technology.",
    "processingTime": 5178,
    "processingId": "google-520649282babb51d",
    "processingCount": 439,
    "conversationId": "71e9512ea89b9e9f0d1d174369678b85"
  }
}
```

---

### 2. Generate Structured JSON

**Goal:** Extract key points from an article.
**Input Configuration:**

```json
{
  "generationType": "aicon-v4-large-160824",
  "prompt": "Provide a paragraph about Healthcare 4.0.",
  "outputType": "json",
  "jsonContent": {
    "title": "string",
    "content": "string",
    "summary": "string",
    "point1": "string",
    "point2": "string",
    "point3": "string"
  }
}
```

**Output Example:**

```json
{
  "output": {
    "title": "Healthcare 4.0: The Future of Medicine",
    "content": "Healthcare 4.0 represents the transformative integration of advanced digital technologies into the healthcare ecosystem, marking a significant evolution from traditional medical practices. This paradigm leverages technologies such as Artificial Intelligence (AI), Machine Learning (ML), the Internet of Medical Things (IoMT), big data analytics, blockchain, and robotics to create a more personalized, predictive, preventive, and participatory healthcare experience. It aims to enhance operational efficiency, improve patient outcomes, reduce costs, and make healthcare more accessible and equitable globally. From precision medicine tailored to individual genetic profiles to AI-powered diagnostics and robotic surgery, Healthcare 4.0 is redefining how medical services are delivered, managed, and consumed, fostering an era of smart, connected, and data-driven healthcare solutions.",
    "summary": "Healthcare 4.0 integrates advanced digital technologies like AI, IoMT, and big data into healthcare for a more personalized, predictive, and efficient system, improving patient outcomes and accessibility.",
    "point1": "Utilizes AI, Machine Learning, and IoMT for enhanced diagnostics and personalized treatment plans.",
    "point2": "Focuses on predictive and preventive care through data analytics, shifting from reactive to proactive healthcare.",
    "point3": "Improves operational efficiency, reduces costs, and increases healthcare accessibility through digital transformation.",
    "processingTime": 2414,
    "processingId": "google-b3437be5929daeaa",
    "processingCount": 371,
    "conversationId": "b0a5d25e4b46980ed8c8d3c04e7f6bf3"
  }
}
```

---

## How to Use in a No-Code Workflow

1. **Add the Node:** Drag the _Text Generation Node_ into your workflow builder.
2. **Connect a Trigger:** For example, use an _Email Trigger_ or _REST API Trigger_.
3. **Configure Inputs:** Enter your prompt, choose the AI model, and select the output type.
4. **Link Outputs:** Connect this node’s `content` output to the next step — e.g., a _Text-to-Speech Node_, _Slack Message Node_, or _Document Writer Node_.
5. **Run the Workflow:** The node will automatically generate text or structured data as defined.

---

## Best Practices

- Keep prompts **specific and concise** for more accurate AI results.
- Use **flat JSON** structures to simplify integration with downstream nodes.
- For complex file-based tasks, select `aicon-v4-large-160824`.
- To maintain conversational context (like a chatbot), pass a consistent `conversationId`.
- Use `randomness` between **0.2 and 0.5** for balanced creativity and coherence.

---

## Example Workflow Integration

**Workflow:** “Generate and Send AI-Generated Report”

1. **Trigger Node:** REST API (to receive input data)
2. **AI Node:** Text Generation Node (to create the report)
3. **Process Node:** Return State Node (to display the desired output)

---

## Common Errors

Below are common errors that may occur while using the **Text Generation** node, along with their causes and suggested resolutions.

- **Missing required parameter**
  **Cause:** Either `prompt` or `generationType` was not provided in the input.
  **Resolution:** Make sure both `prompt` and `generationType` are included before running the node.

- **Unauthorized**
  **Cause:** Invalid or missing API credentials.
  **Resolution:** Check your API key or authentication settings and ensure the account has permission to access the AI model.

- **Invalid JSON structure**
  **Cause:** The provided JSON schema contains nested objects or arrays.
  **Resolution:** Use a flat JSON structure with simple key-value pairs (no nesting or arrays).

- **Rate limit exceeded**
  **Cause:** Too many requests were sent in a short time period.
  **Resolution:** Add a short delay between requests or retry after some time to comply with rate limits.

---
