
**Category:** Communication
**Type:** Utility

---

## Overview

The **Send SMS using Plivo** node allows you to send SMS messages directly through your workflow using **Plivo**, a secure and reliable messaging platform.
This node is ideal for workflows that need to send **notifications, verification codes, or real-time alerts** to users via text message.

---

## Description

This node integrates with **Plivo’s SMS delivery service** to send outbound messages to one or more recipients.
Before using this node, you must:

* Have an active **Plivo account**.
* Connect your Plivo account to a **DLT (Distributed Ledger Technology)** provider.
* Register your **sender IDs** with your DLT provider.
* Enable the **Plivo integration** from the **Integrations** page in WorqHat.

Once integrated, you can configure your message details such as **sender ID**, **recipient phone number**, and **message text** directly within the node.
You may also use AI to automatically write or generate your SMS message content based on a description.

---

## Input Parameters

The **Send SMS using Plivo** node accepts the following input parameters:

* **senderId** 
  The registered sender ID for your SMS messages. Must be **6 characters or fewer**.
  You can manually enter a sender ID or use a variable reference, such as `{{nodeId.output.sender}}`.

* **phoneNumber** 
  The recipient’s phone number in international format.
  Example: `+919876543210` (include the country code).

* **message**
  The actual text message you want to send.
  Messages longer than **160 characters** are automatically split into multiple segments before sending.
  Example: `"Your OTP code is 472916. It will expire in 5 minutes."`

* **aiMessagePrompt** 
  A description of what you want the AI to write.
  Example: `"Write a friendly reminder message for an upcoming appointment."`
  You can click **Generate Message** to have AI automatically write the SMS text for you.

---

## Output Parameters

After execution, the node returns delivery-related details about the SMS message.

* **messageId** 
  A unique identifier assigned to the sent message by Plivo.

* **status** 
  Indicates whether the message was successfully sent (`"sent"`, `"queued"`, or `"failed"`).

* **deliveryTime**
  ISO-formatted timestamp indicating when the message was sent.

* **recipient** 
  The phone number of the recipient who received the SMS.

* **processingTime**
  The total time taken for the SMS delivery process.

---

## Output Type

* **Output Type:** Text
  The node returns a text-based response containing message metadata, delivery status, and timestamps.
  You can access these outputs using:

```
{{plivoSMS.output.messageId}}
{{plivoSMS.output.status}}
{{plivoSMS.output.deliveryTime}}
```

---

## Example Usage

### Example 1: Sending a Direct SMS

**Input:**

```json
{
  "senderId": "WORQHT",
  "phoneNumber": "+919876543210",
  "message": "Your verification code is 524916. Please do not share this code with anyone."
}
```

**Expected Output:**

```json
{
  "messageId": "msg-1fbc20b7d9134d",
  "status": "sent",
  "deliveryTime": "2025-10-29T18:35:45Z",
  "recipient": "+919876543210",
  "processingTime": "1.42s"
}
```

---

### Example 2: Using AI to Generate Message Content

**Input:**

```json
{
  "senderId": "WORQHT",
  "phoneNumber": "+911234567890",
  "aiMessagePrompt": "Write a short promotional SMS offering 20% off on all services until tomorrow."
}
```

**Expected Output:**

```json
{
  "message": "Enjoy 20% off all services! Offer valid until tomorrow. Visit worqhat.com today.",
  "status": "sent",
  "messageId": "msg-a78b9cde213f",
  "deliveryTime": "2025-10-29T18:41:12Z"
}
```

---

## How to Use in a No-Code Workflow

1. **Add the Send SMS using Plivo Node**

   * Drag and drop the node from the **Utility** category into your workflow.

2. **Configure Sender ID**

   * Enter your verified Plivo sender ID (6 characters or fewer).

3. **Add Recipient Number**

   * Input the recipient’s phone number in international format (e.g., `+91XXXXXXXXXX`).

4. **Compose the Message**

   * Type your SMS message or click **Generate Message** to let AI write it.

5. **Connect and Run**

   * Link the node to previous workflow steps (e.g., after verification or alert generation) and run the workflow to send your SMS.

6. **Check Outputs**

   * Use the output variables to confirm message delivery or log the message status.

---

## Best Practices

* Always ensure your **Plivo integration** is active before using this node.
* Register and verify your **sender IDs** and **templates** with your DLT provider.
* Keep SMS messages concise (under 160 characters).
* Use AI message generation for consistent tone and quick message creation.
* Log `messageId` and `status` to monitor delivery performance.
* Test messages with a sample phone number before large-scale deployment.

---

## Example Workflow Integration

**Use Case:** Sending OTP after form submission

**Workflow Example:**

1. **Form Trigger Node** → captures user input.
2. **AI Node** → generates OTP and stores it.
3. **Send SMS using Plivo Node** → sends OTP to the user’s phone number.

**Connection Example:**

```
{{formTrigger.output.phone}} → {{plivoSMS.input.phoneNumber}}
{{aiNode.output.otpMessage}} → {{plivoSMS.input.message}}
```

---

## Common Errors

* **“Missing sender ID”**
  *Cause:* Sender ID field left blank.
  *Solution:* Enter a valid registered sender ID (6 characters or less).

* **“Invalid phone number format”**
  *Cause:* The phone number doesn’t include the country code.
  *Solution:* Enter the number in full international format (e.g., +91XXXXXXXXXX).

* **“Integration not enabled”**
  *Cause:* Plivo integration not activated in settings.
  *Solution:* Enable Plivo integration from the **Integrations** page before using this node.

* **“Message template not approved”**
  *Cause:* The SMS message doesn’t match any approved template.
  *Solution:* Use a verified message template from Plivo.

* **“DLT registration required”**
  *Cause:* Sender ID not registered with a DLT provider.
  *Solution:* Complete DLT registration before sending outbound messages.

---

